function drawBricks(){for(c=0;c<21;c++)for(r=0;r<9;r++)if(1==bricks[c][r].status){var e=c*(brickWidth+brickPadding)+brickOffsetLeft,t=r*(brickHeight+brickPadding)+brickOffsetTop;bricks[c][r].x=e,bricks[c][r].y=t,ctx.beginPath(),ctx.rect(e,t,brickWidth,brickHeight),score>=levelThree?ctx.fillStyle=levelThreeColour:score>=levelTwo?ctx.fillStyle=levelTwoColour:ctx.fillStyle=levelOneColour,ctx.fill(),ctx.closePath()}}function hitPaddle(e,t){if(t)return e.center.x-e.size.x/2<t.x&&t.x<e.center.x+e.size.x/2}var Game=function(e){function t(){c.update(),c.draw(r,s)}var i=document.getElementById(e),r=i.getContext("2d"),s={x:i.width,y:i.height};this.bodies=[new Player(this,s),new Ball(this,s,{x:150,y:140},{x:0,y:0})];var c=this;setInterval(t,10)};Game.prototype={update:function(){for(var e=0;e<this.bodies.length;e++)this.bodies[e].update();var t=hitPaddle(this.bodies[0],this.bodies[1])},draw:function(e,t){e.clearRect(0,0,t.x,t.y);for(var i=0;i<this.bodies.length;i++)drawRect(e,this.bodies[i])}};var Player=function(e,t){this.game=e,this.size={x:30,y:4},this.center={x:t.x/2,y:t.y-2},this.keyboarder=new Keyboarder,this.gameSize=t};Player.prototype={update:function(){this.keyboarder.isDown(this.keyboarder.KEYS.LEFT)?this.center.x-=2:this.keyboarder.isDown(this.keyboarder.KEYS.RIGHT)?this.center.x+=2:this.keyboarder.isDown(this.keyboarder.KEYS.SPACE)&&(this.game.bodies[1].velocity={x:1,y:-1})}};var Ball=function(e,t,i,r){this.game=e,this.size={x:4,y:4},this.center=i,this.velocity=r,this.gameSize=t};Ball.prototype={update:function(){this.center.x+=this.velocity.x,this.center.y+=this.velocity.y,this.center.y<this.size.x/2&&(this.velocity.y=-this.velocity.y),(this.center.x>this.gameSize.x-this.size.x/2||this.center.x<this.size.x/2)&&(this.velocity.x=-this.velocity.x),this.center.y>this.gameSize.y&&(this.center={x:150,y:140},this.velocity={x:0,y:0}),this.center.y==this.gameSize.y-this.size.x/2&&hitPaddle(this.game.bodies[0],this.center)&&(this.velocity.y=-this.velocity.y)}};var Brick=function(e,t){this.game=e,this.size={x:4,y:2},this.center=t};Brick.prototype={update:function(){}};var makeBricks=function(e){var t=[];for(c=0;c<brickColumnCount;c++)for(t[c]=[],r=0;r<brickRowCount;r++)t[c][r]={x:0,y:0}},drawRect=function(e,t){e.fillRect(t.center.x-t.size.x/2,t.center.y-t.size.y/2,t.size.x,t.size.y)},Keyboarder=function(){var e={};window.onkeydown=function(t){e[t.keyCode]=!0},window.onkeyup=function(t){e[t.keyCode]=!1},this.isDown=function(t){return!0===e[t]},this.KEYS={LEFT:37,RIGHT:39,SPACE:32}};window.onload=function(){new Game("screen")};