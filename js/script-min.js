!function(){function e(e,t){if(t)return e.center.x-e.size.x/2<t.x&&t.x<e.center.x+e.size.x/2}var t=function(e){function t(){c.update(),c.draw(o,h)}var n=document.getElementById(e),o=n.getContext("2d"),h={x:n.width,y:n.height};this.bodies={bricks:r(this),player:new i(this,h),ball:new s(this,h,{x:150,y:140},{x:0,y:0})};var c=this;setInterval(t,10)};t.prototype={update:function(){var e=this.bodies.ball;this.bodies.bricks=this.bodies.bricks.filter(function(t){return!o(t,e)}),this.bodies.player.update(),this.bodies.ball.update()},draw:function(e,t){e.clearRect(0,0,t.x,t.y),h(e,this.bodies.player),h(e,this.bodies.ball);for(var i=0;i<this.bodies.bricks.length;i++)h(e,this.bodies.bricks[i])}};var i=function(e,t){this.game=e,this.size={x:30,y:4},this.center={x:t.x/2,y:t.y-2},this.keyboarder=new c,this.gameSize=t};i.prototype={update:function(){this.keyboarder.isDown(this.keyboarder.KEYS.LEFT)?this.center.x-=2:this.keyboarder.isDown(this.keyboarder.KEYS.RIGHT)?this.center.x+=2:this.keyboarder.isDown(this.keyboarder.KEYS.SPACE)&&(this.game.bodies.ball.velocity={x:1,y:-1})}};var s=function(e,t,i,s){this.game=e,this.size={x:4,y:4},this.center=i,this.velocity=s,this.gameSize=t};s.prototype={update:function(){this.center.x+=this.velocity.x,this.center.y+=this.velocity.y,this.center.y<this.size.x/2&&(this.velocity.y=-this.velocity.y),(this.center.x>this.gameSize.x-this.size.x/2||this.center.x<this.size.x/2)&&(this.velocity.x=-this.velocity.x),this.center.y>this.gameSize.y&&(this.center={x:150,y:140},this.velocity={x:0,y:0}),this.center.y==this.gameSize.y-this.size.x/2&&e(this.game.bodies.player,this.center)&&(this.velocity.y=-this.velocity.y);for(var t=0;t<this.game.bodies.bricks.length;t++)o(this.game.bodies.bricks[t],this)&&(this.velocity.y=-this.velocity.y)}};var n=function(e,t){this.game=e,this.size={x:14,y:7},this.center=t};n.prototype={update:function(){}};var r=function(e){for(var t=[],i=0;i<108;i++){var s=10+i%11*22,r=20+i%9*12;t.push(new n(e,{x:s,y:r}))}return t},o=function(e,t){return t.center.x>e.center.x&&t.center.x<e.center.x+e.size.x&&t.center.y>e.center.y&&t.center.y<e.center.y+e.size.y},h=function(e,t){e.fillRect(t.center.x-t.size.x/2,t.center.y-t.size.y/2,t.size.x,t.size.y)},c=function(){var e={};window.onkeydown=function(t){e[t.keyCode]=!0},window.onkeyup=function(t){e[t.keyCode]=!1},this.isDown=function(t){return!0===e[t]},this.KEYS={LEFT:37,RIGHT:39,SPACE:32}};window.onload=function(){new t("screen")}}();