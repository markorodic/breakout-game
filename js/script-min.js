function drawLives(){ctx.font="16px Arial",ctx.fillStyle="#0095DD",ctx.fillText("Lives: "+lives,canvas.width-65,20)}function drawBricks(){for(c=0;c<brickColumnCount;c++)for(r=0;r<brickRowCount;r++)if(1==bricks[c][r].status){var t=c*(brickWidth+brickPadding)+brickOffsetLeft,e=r*(brickHeight+brickPadding)+brickOffsetTop;bricks[c][r].x=t,bricks[c][r].y=e,ctx.beginPath(),ctx.rect(t,e,brickWidth,brickHeight),ctx.fillStyle="#0095DD",ctx.fill(),ctx.closePath()}}function drawPaddle(){ctx.beginPath(),ctx.rect(paddleX,canvas.height-paddleHeight,paddleWidth,paddleHeight),ctx.fillStyle="#0095DD",ctx.fill(),ctx.closePath()}function drawBall(){ctx.beginPath(),ctx.arc(x,y,ballRadius,0,2*Math.PI),ctx.fillStyle="#0095DD",ctx.fill(),ctx.closePath()}function draw(){ctx.clearRect(0,0,canvas.width,canvas.height),drawBricks(),drawBall(),drawPaddle(),collisionDetection(),drawScore(),drawLives(),x+=dx,y+=dy,y+dy<ballRadius?dy=-dy:y+dy>canvas.height-ballRadius&&(x>paddleX&&x<paddleX+paddleWidth?dy=-dy:lives?(x=canvas.width/2,y=canvas.height-30,dx=2,dy=-2,paddleX=(canvas.width-paddleWidth)/2,lives-=1):(alert("GAME OVER"),document.location.reload())),(x+dx>canvas.width-ballRadius||x+dx<ballRadius)&&(dx=-dx),rightPressed&&paddleX<canvas.width-paddleWidth?paddleX+=7:leftPressed&&paddleX>0&&(paddleX-=7)}function keyDownHandler(t){39==t.keyCode?rightPressed=!0:37==t.keyCode&&(leftPressed=!0)}function keyUpHandler(t){39==t.keyCode?rightPressed=!1:37==t.keyCode&&(leftPressed=!1)}function collisionDetection(){for(c=0;c<brickColumnCount;c++)for(r=0;r<brickRowCount;r++){var t=bricks[c][r];1==t.status&&x>t.x&&x<t.x+brickWidth&&y>t.y&&y<t.y+brickHeight&&(dy=-dy,t.status=0,++score==brickRowCount*brickColumnCount&&(alert("YOU WIN!, CONGRATULATIONS!"),document.location.reload()))}}function drawScore(){ctx.font="16px Arial",ctx.fillStyle="0095DD",ctx.fillText("Score: "+score,8,20)}var canvas=document.getElementById("myCanvas"),ctx=canvas.getContext("2d"),x=canvas.width/2,y=canvas.height-30,dx=2,dy=-2,ballRadius=10,paddleHeight=10,paddleWidth=75,paddleX=(canvas.width-paddleWidth)/2,rightPressed=!1,leftPressed=!1,brickRowCount=3,brickColumnCount=5,brickWidth=75,brickHeight=20,brickPadding=10,brickOffsetTop=30,brickOffsetLeft=30,score=0,lives=3,bricks=[];for(c=0;c<brickColumnCount;c++)for(bricks[c]=[],r=0;r<brickRowCount;r++)bricks[c][r]={x:0,y:0,status:1};document.addEventListener("keydown",keyDownHandler,!1),document.addEventListener("keyup",keyUpHandler,!1),setInterval(draw,10);